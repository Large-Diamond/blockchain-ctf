// SPDX-License-Identifier: UNLICENSED
pragma solidity ^0.8.20;

import {Test, console2} from "forge-std/Test.sol";
import {Curta} from "../general/CurtaLocal.sol";
import {TwoTimesFourIsEight} from "./challenge/Challenge.sol";

contract ExploitTest is Test {
    address playerAddr = makeAddr("player");
    Curta curta;
    TwoTimesFourIsEight puzzle;
    uint32 puzzleId = 1;

    function setUp() public {
        curta = new Curta();
        curta.setPuzzleId(puzzleId - 1);
        puzzle = new TwoTimesFourIsEight();
        curta.addPuzzle(puzzle, 0);
        vm.deal(playerAddr, 1 ether);
    }

    function test() public {
        vm.startPrank(playerAddr, playerAddr);

        curta.solve(puzzleId, 58841883346347349032075282154728593374741534902604841931998904142147573277043);

        vm.stopPrank();
    }
}
