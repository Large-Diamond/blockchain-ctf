// SPDX-License-Identifier: UNLICENSED
pragma solidity ^0.8.13;

import {Test} from "forge-std/Test.sol";
import {MusicRemixer} from "./challenge/MusicRemixer.sol";
import {Exploit} from "./Exploit.sol";

contract ExploitTest is Test {
    address playerAddress = makeAddr("player");

    function testExploit() public {
        MusicRemixer musicRemixer = new MusicRemixer{value: 100 ether}();
        vm.deal(playerAddress, 1 ether);
        vm.startPrank(playerAddress, playerAddress);

        new Exploit().exploit{value: 0.5 ether}(address(musicRemixer));

        vm.stopPrank();
    }
}
