// SPDX-License-Identifier: UNLICENSED
pragma solidity ^0.8.13;

import "forge-std/Test.sol";
import "./PrivateData.sol";
import "./PrivateDataExploit.sol";

contract PrivateDataExploitTest is Test {
    address playerAddress = makeAddr("player");
    address instanceAddress = 0x620E0c88E0f8F36bCC06736138bDEd99B6401192;

    function setUp() public {
        string memory RPC_GOERLI = vm.envString("RPC_GOERLI");
        vm.createSelectFork(RPC_GOERLI, 7156811);
    }

    function test() public {
        vm.startPrank(playerAddress, playerAddress);
        playerScript(instanceAddress, vm);
        vm.stopPrank();

        PrivateData instance = PrivateData(payable(instanceAddress));
        assertTrue(instance.owner() == playerAddress);
    }
}
